{% extends "layout.html" %}

{% block title %}
Sections
{% endblock %}

{% block content %}
<h1 class="centered-title">Sections</h1>

<!-- Create Custom Quiz Button -->
<div class="create-quiz-container">
    <a href="{% url 'create_custom_quiz' %}" class="btn-create-custom-quiz">Create Custom Quiz</a>
</div>

<div class="container">

    {% for classification in classifications %}
        <div class="card">
            <h2>{{ classification.name }}</h2>

            <!-- Loop through each subject under the classification -->
            <ul>
                {% for subject in classification.subjects.all %}
                    <li>
                        <a href="{% url 'quiz_list' subject.id %}">
                            {{ subject.name }}
                        </a>
                        
                        <!-- Display user's progress for this subject, if available -->
                        {% if subject_progress.subject.name %}
                            <span class="progress">Progress: {{ subject_progress.subject.name }}%</span>
                        {% else %}
                            <span class="progress">No attempts yet</span>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endfor %}

</div>
{% endblock %}
